{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\H P\\\\IdeaProjects\\\\reactmap\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport Map from './components/Map';\nimport Loader from './components/Loader';\nimport Header from './components/Header';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [curent_position, setCurent_position] = useState();\n  const [selected_PH, setSelected_PH] = useState(\"0\");\n  const [selected_zone, setSelected_Zone] = useState(\"0\");\n  const [pharmacytData, setPharmacyData] = useState([]);\n  const [pharmacytNuit, setPharmacyNuit] = useState([]);\n  const [pharmacytJour, setPharmacyJour] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [ville, setVille] = useState([]);\n  const choosePosition = center => {\n    setCurent_position(center);\n  };\n  const chooseZone = id => {\n    setSelected_Zone(id);\n  };\n  const choosePH = id => {\n    setSelected_PH(id);\n  };\n  useEffect(() => {\n    const fetchPharmacy = async () => {\n      const res = await fetch('http://localhost:9090/zones/pharmacies/' + selected_zone);\n      const result = await res.json();\n      setPharmacyData(result);\n    };\n    const fetchPharmacyJour = async () => {\n      const res = await fetch('http://localhost:9090/pharmacieDeGardes/getActual/jour/' + selected_zone);\n      const result = await res.json();\n      setPharmacyJour(result);\n    };\n    const fetchPharmacyNuit = async () => {\n      const res = await fetch('http://localhost:9090/pharmacieDeGardes/getActual/nuit/' + selected_zone);\n      const result = await res.json();\n      setPharmacyNuit(result);\n      console.log(result);\n    };\n    const fetchVille = async () => {\n      const res = await fetch('http://localhost:9090/villes/all');\n      const result = await res.json();\n      setVille(result);\n    };\n    if (selected_zone != \"0\") {\n      fetchPharmacy();\n    }\n    fetchVille();\n    fetchPharmacyJour();\n    fetchPharmacyNuit();\n  }, [selected_zone]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: !loading ? /*#__PURE__*/_jsxDEV(Map, {\n      selected_PH: selected_PH,\n      choosePH: choosePH,\n      eventData: pharmacytData,\n      choosePosition: choosePosition,\n      curent_position: curent_position,\n      pharmacytNuit: pharmacytNuit,\n      pharmacytJour: pharmacytJour\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 20\n    }, this) : /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 228\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"pO3h7bb311ORJIuN1yqHKb642/o=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","useEffect","Map","Loader","Header","App","curent_position","setCurent_position","selected_PH","setSelected_PH","selected_zone","setSelected_Zone","pharmacytData","setPharmacyData","pharmacytNuit","setPharmacyNuit","pharmacytJour","setPharmacyJour","loading","setLoading","ville","setVille","choosePosition","center","chooseZone","id","choosePH","fetchPharmacy","res","fetch","result","json","fetchPharmacyJour","fetchPharmacyNuit","console","log","fetchVille"],"sources":["C:/Users/H P/IdeaProjects/reactmap/src/App.js"],"sourcesContent":["import { useState, useEffect } from 'react'\r\nimport Map from './components/Map'\r\nimport Loader from './components/Loader'\r\nimport Header from './components/Header'\r\n\r\nfunction App() {\r\n  const [curent_position , setCurent_position] = useState()\r\n  const [selected_PH , setSelected_PH] = useState(\"0\")\r\n  const [ selected_zone , setSelected_Zone] = useState(\"0\")\r\n  const [pharmacytData, setPharmacyData] = useState([])\r\n  const [pharmacytNuit, setPharmacyNuit] = useState([])\r\n  const [pharmacytJour, setPharmacyJour] = useState([])\r\n  const [loading, setLoading] = useState(false)\r\n  const [ville , setVille] = useState([])\r\n    const choosePosition = (center) => {\r\n        setCurent_position(center);\r\n      };\r\n     \r\n      const chooseZone = (id) => {\r\n        setSelected_Zone(id);\r\n      };\r\n      const choosePH = (id) => {\r\n        setSelected_PH(id);\r\n      };\r\n  \r\n  \r\n  useEffect(() => {\r\n    const fetchPharmacy = async () => {\r\n      const res = await fetch('http://localhost:9090/zones/pharmacies/'+selected_zone)\r\n      const result = await res.json()\r\n      setPharmacyData(result)\r\n      \r\n    }\r\n    const fetchPharmacyJour = async () => {\r\n      const res = await fetch('http://localhost:9090/pharmacieDeGardes/getActual/jour/'+selected_zone)\r\n      const result = await res.json()\r\n      setPharmacyJour(result)\r\n    }\r\n    const fetchPharmacyNuit = async () => {\r\n      const res = await fetch('http://localhost:9090/pharmacieDeGardes/getActual/nuit/'+selected_zone)\r\n      const result = await res.json()\r\n      setPharmacyNuit(result)\r\n      console.log(result)\r\n    }\r\n    const fetchVille = async () => { \r\n      const res = await fetch('http://localhost:9090/villes/all')\r\n      const result = await res.json()\r\n      setVille(result)\r\n    }\r\n    if(selected_zone!=\"0\")\r\n    {\r\n      fetchPharmacy()\r\n    }\r\n   \r\n    fetchVille()\r\n    fetchPharmacyJour()\r\n    fetchPharmacyNuit()\r\n    \r\n  }, [selected_zone] )\r\n\r\n  return (\r\n    <div>\r\n      { !loading ? <Map selected_PH={selected_PH} choosePH={choosePH} eventData={pharmacytData} choosePosition={choosePosition} curent_position={curent_position} pharmacytNuit={pharmacytNuit} pharmacytJour={pharmacytJour} /> : <Loader /> }\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}